schema: '2.0'
stages:
  build_features:
    cmd:
    - python ./scripts/data/build_features.py --input-rumbles-dir "./data/01_raw/cornell_data/Rumble/"
      --output-dir "./data/02_features/rumbles/spectrograms/" --duration 60.0 --freq-min
      0.0 --freq-max 250.0 --random-seed 0 --ratio-random-offsets 0.2 --loglevel "info"
    deps:
    - path: ./scripts/data/build_features.py
      hash: md5
      md5: b41a43926a56a798e8e4a99cc110eee2
      size: 11180
    outs:
    - path: ./data/02_features/rumbles/spectrograms/
      hash: md5
      md5: 0effb5a84252bdb19aeb583dfaf50640.dir
      size: 5272834786
      nfiles: 97768
  build_yolov8_model_input:
    cmd:
    - python ./scripts/data/build_yolov8_model_input.py --input-features "./data/02_features/rumbles/spectrograms_test/"
      --output-dir "./data/03_model_input/yolov8/small/" --ratio 0.1 --ratio-train-val
      0.8 --loglevel "info"
    deps:
    - path: ./scripts/data/build_yolov8_model_input.py
      hash: md5
      md5: f64111c9a50a67fc3a2b87fd44d56539
      size: 8284
    outs:
    - path: ./data/03_model_input/yolov8/
      hash: md5
      md5: 1b7ba577ca8a879bb97c95001318e198.dir
      size: 36157409
      nfiles: 501
  build_yolov8_model_input_small:
    cmd:
    - python ./scripts/data/build_yolov8_model_input.py --input-features "./data/02_features/rumbles/spectrograms/"
      --output-dir "./data/03_model_input/yolov8/small/" --ratio 0.01 --ratio-train-val
      0.8 --loglevel "info"
    deps:
    - path: ./data/02_features/rumbles/spectrograms/
      hash: md5
      md5: 0effb5a84252bdb19aeb583dfaf50640.dir
      size: 5272834786
      nfiles: 97768
    - path: ./scripts/data/build_yolov8_model_input.py
      hash: md5
      md5: e834f30dd62e9f59ad8d01759e019934
      size: 7183
    outs:
    - path: ./data/03_model_input/yolov8/small/
      hash: md5
      md5: b8936dc4afca0f0866a1dc64f4174b7d.dir
      size: 1634256475
      nfiles: 27754
  build_yolov8_model_input_full:
    cmd:
    - python ./scripts/data/build_yolov8_model_input.py --input-features "./data/02_features/rumbles/spectrograms/"
      --output-dir "./data/03_model_input/yolov8/full/" --ratio 1.0 --ratio-train-val
      0.8 --loglevel "info"
    deps:
    - path: ./data/02_features/rumbles/spectrograms/
      hash: md5
      md5: 0effb5a84252bdb19aeb583dfaf50640.dir
      size: 5272834786
      nfiles: 97768
    - path: ./scripts/data/build_yolov8_model_input.py
      hash: md5
      md5: e834f30dd62e9f59ad8d01759e019934
      size: 7183
    outs:
    - path: ./data/03_model_input/yolov8/full/
      hash: md5
      md5: f63660a057d5e5f6715720cb06cc77c4.dir
      size: 5266101279
      nfiles: 97679
  train_yolov8_baseline_small_dataset:
    cmd:
    - python ./scripts/model/yolov8/train.py --data ./data/03_model_input/yolov8/small/data.yaml
      --config ./scripts/model/yolov8/configs/baseline.yaml --experiment-name baseline_small_dataset
      --loglevel info
    deps:
    - path: ./data/03_model_input/yolov8/small/
      hash: md5
      md5: 7134cddcc6d458f73d6f93d473222856.dir
      size: 1640315660
      nfiles: 27755
    - path: ./scripts/model/yolov8/configs/baseline.yaml
      hash: md5
      md5: 4949bd23b3b0046a4a0a4d77fcf49df1
      size: 45
    - path: ./scripts/model/yolov8/train.py
      hash: md5
      md5: b45a7ef0cf0bdf08ea7b70482df7f96a
      size: 2758
    outs:
    - path: ./data/04_models/yolov8/baseline_small_dataset/
      hash: md5
      md5: ad73bb6be996448db808773da6cc8adb.dir
      size: 16210803
      nfiles: 25
